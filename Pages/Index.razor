@page "/"
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthState
@attribute [Authorize]

<PageTitle>Index</PageTitle>

<h1>Bienvenido, @Nickname!</h1>
Este contenido solo se puede ver si estas autenticado.
<br />


@code {
    private string Nickname { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var state = await AuthState.GetAuthenticationStateAsync();
        Nickname = state.User.Claims
                    .Where(c => c.Type.Equals("nickname"))
                    .Select(c => c.Value)
                    .FirstOrDefault() ?? string.Empty;

        await base.OnInitializedAsync();
    }

    private void NavigateToCounterComponent()
    {
        Navigation.NavigateTo("counter");
    }

    private void CheckingUserData()
    {
        //EndPoint para saber si el usuario esta registrado
        //EndPoint para saber si el usuario tiene registrado datos personales
        //EndPoint para saber si el usuario tiene registrado metricas corporales
    }
}